<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, minimum-scale=1.0, maximum-scale=1.0, user-scalable=no">
<meta name="google" content="notranslate" />
<link rel="icon" href="/dists/icon.png" />
<title> 创建类似 http://ithinkimight.com/ 随机大小排布界面 - AcyOrt </title>
<link rel="stylesheet" href="/dists/acyort.css" />
</script>
</head>
<body>

<div class="header">
    <div class="center">
        <h1><a href="/">AcyOrt</a></h1>
        <p>Lorem ipsum dolor sit amet, ius sonet omnesque facilisis an, etiam mediocrem ad ius.</p>
    </div>
</div>

<div id="post" class="center">

    <h1>创建类似 http://ithinkimight.com/ 随机大小排布界面</h1>
    <p><a href="https://github.com/LoeiFy">LoeiFy</a> Updated at Jan 14, 2016</p>

    <div class="content"><h3 id="-">来源</h3>
<p><a href="http://ithinkimight.com/">http://ithinkimight.com/</a> 图片来自 Instagram，图片随机大小，位置也是随机，图片可以重叠，但是没有“过分”重叠</p>
<p>这种随机大小，位置排版页面元素跟平常的整齐 <code>grid</code> 或者 <code>瀑布流</code> 风格很不一样</p>
<p>虽然并不知道具体是怎么实现的，但是这里有一种简单实现方法，实现类似效果</p>
<h4 id="demo">demo</h4>
<p><a href="http://jsfiddle.net/am0200/1mn5xbf8/">http://jsfiddle.net/am0200/1mn5xbf8/</a></p>
<h4 id="-">实际使用例子</h4>
<p><a href="http://stone.am0200.com/">http://stone.am0200.com/</a></p>
<h3 id="-">相关代码</h3>
<h4 id="html">html</h4>
<pre><code class="lang-html">&lt;section&gt;
    &lt;<span class="hljs-keyword">div</span> <span class="hljs-built_in">id</span>=<span class="hljs-string">"d0"</span>&gt;&lt;/<span class="hljs-keyword">div</span>&gt;
    &lt;<span class="hljs-keyword">div</span> <span class="hljs-built_in">id</span>=<span class="hljs-string">"d1"</span>&gt;&lt;/<span class="hljs-keyword">div</span>&gt;
    &lt;<span class="hljs-keyword">div</span> <span class="hljs-built_in">id</span>=<span class="hljs-string">"d2"</span>&gt;&lt;/<span class="hljs-keyword">div</span>&gt;
    &lt;<span class="hljs-keyword">div</span> <span class="hljs-built_in">id</span>=<span class="hljs-string">"d3"</span>&gt;&lt;/<span class="hljs-keyword">div</span>&gt;
&lt;/section&gt;
</code></pre>
<h4 id="css">css</h4>
<pre><code class="lang-css"><span class="hljs-selector-tag">section</span> {
    <span class="hljs-attribute">width</span>: <span class="hljs-number">100%</span>;
    <span class="hljs-attribute">height</span>: <span class="hljs-number">100%</span>;
    <span class="hljs-attribute">position</span>: relative;
}
<span class="hljs-selector-tag">section</span> <span class="hljs-selector-tag">div</span> {
    <span class="hljs-attribute">position</span>: absolute;
}
<span class="hljs-selector-id">#d0</span> {
    <span class="hljs-attribute">left</span>: <span class="hljs-number">50%</span>;
    <span class="hljs-attribute">top</span>: <span class="hljs-number">0</span>;
}
<span class="hljs-selector-id">#d1</span> {
    <span class="hljs-attribute">top</span>: <span class="hljs-number">50%</span>;
    <span class="hljs-attribute">left</span>: <span class="hljs-number">50%</span>;
}
<span class="hljs-selector-id">#d2</span> {
    <span class="hljs-attribute">left</span>: <span class="hljs-number">0</span>;
    <span class="hljs-attribute">top</span>: <span class="hljs-number">50%</span>;
}
<span class="hljs-selector-id">#d3</span> {
    <span class="hljs-attribute">left</span>: <span class="hljs-number">0</span>;
    <span class="hljs-attribute">top</span>: <span class="hljs-number">0</span>;
}
</code></pre>
<h4 id="js">js</h4>
<pre><code class="lang-js"><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">rd</span>(<span class="hljs-params">n,m</span>)</span>{
    <span class="hljs-keyword">var</span> c = m-n+<span class="hljs-number">1</span>;  
    <span class="hljs-keyword">return</span> <span class="hljs-built_in">Math</span>.floor(<span class="hljs-built_in">Math</span>.random() * c + n);
}

<span class="hljs-keyword">var</span> w = <span class="hljs-built_in">parseInt</span>($(<span class="hljs-string">'section'</span>).width()),
    h = <span class="hljs-built_in">parseInt</span>($(<span class="hljs-string">'section'</span>).height());

$(<span class="hljs-string">'div'</span>).each(<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
    <span class="hljs-keyword">var</span> wh = rd(<span class="hljs-number">150</span>, <span class="hljs-number">200</span>)
    $(<span class="hljs-keyword">this</span>).css({
        width: wh,
        height: wh
    })
})

<span class="hljs-keyword">var</span> d0 = <span class="hljs-built_in">parseInt</span>($(<span class="hljs-string">'#d0'</span>).width()),
    d1 = <span class="hljs-built_in">parseInt</span>($(<span class="hljs-string">'#d1'</span>).width()),
    d2 = <span class="hljs-built_in">parseInt</span>($(<span class="hljs-string">'#d2'</span>).width()),
    d3 = <span class="hljs-built_in">parseInt</span>($(<span class="hljs-string">'#d3'</span>).width());

<span class="hljs-keyword">var</span> a1 = rd(-(d0 / <span class="hljs-number">4</span>), w / <span class="hljs-number">2</span> - d0),
    a2 = rd(<span class="hljs-number">0</span>, h / <span class="hljs-number">2</span> - d0 / <span class="hljs-number">4</span> * <span class="hljs-number">3</span>);

<span class="hljs-keyword">var</span> b1 = rd(-(d1 / <span class="hljs-number">4</span>), w / <span class="hljs-number">2</span> - d1),
    b2 = rd(-(d1 / <span class="hljs-number">4</span>), h / <span class="hljs-number">2</span> - d1);

<span class="hljs-keyword">var</span> c1 = rd(<span class="hljs-number">0</span>, w / <span class="hljs-number">2</span> - d2 / <span class="hljs-number">4</span> * <span class="hljs-number">3</span>),
    c2 = rd(-(d2 / <span class="hljs-number">4</span>), h / <span class="hljs-number">2</span> - d2);    

<span class="hljs-keyword">var</span> e1 = rd(<span class="hljs-number">0</span>, w / <span class="hljs-number">2</span> - d3 / <span class="hljs-number">4</span> * <span class="hljs-number">3</span>),
    e2 = rd(<span class="hljs-number">0</span>, h / <span class="hljs-number">2</span> - d3 / <span class="hljs-number">4</span> * <span class="hljs-number">3</span>); 


$(<span class="hljs-string">'#d0'</span>).css(<span class="hljs-string">'margin-left'</span>, a1 +<span class="hljs-string">'px'</span>)
$(<span class="hljs-string">'#d0'</span>).css(<span class="hljs-string">'margin-top'</span>, a2 +<span class="hljs-string">'px'</span>)

$(<span class="hljs-string">'#d1'</span>).css(<span class="hljs-string">'margin-left'</span>, b1 +<span class="hljs-string">'px'</span>)
$(<span class="hljs-string">'#d1'</span>).css(<span class="hljs-string">'margin-top'</span>, b2 +<span class="hljs-string">'px'</span>)

$(<span class="hljs-string">'#d2'</span>).css(<span class="hljs-string">'margin-left'</span>, c1 +<span class="hljs-string">'px'</span>)
$(<span class="hljs-string">'#d2'</span>).css(<span class="hljs-string">'margin-top'</span>, c2 +<span class="hljs-string">'px'</span>)

$(<span class="hljs-string">'#d3'</span>).css(<span class="hljs-string">'margin-left'</span>, e1 +<span class="hljs-string">'px'</span>)
$(<span class="hljs-string">'#d3'</span>).css(<span class="hljs-string">'margin-top'</span>, e2 +<span class="hljs-string">'px'</span>)
</code></pre>
<h3 id="-">思路</h3>
<p>首先把 container 划分为 4 个块，然后需要随机定位的 4 个块分别放到这 4 个区域，最后定义这 4 个块距离左边跟上边的最远，最近距离即可</p>
<h3 id="-">其他</h3>
<p>这种定位简单方便，但不足之处也很明显，最单数块不好处理</p>
<h3 id="ps">PS</h3>
<p>这个是逼死处女座系列之一</p>
</div>

    <div class="label">
    <div style="background-color:#207de5">#css</div>
    <div style="background-color:#eb6420">#html</div>
    <div style="background-color:#fbca04">#javascript</div>
    </div>

</div>

<div class="footer">
    <div class="center">
        © 2016 AcyOrt . <a target="_blank" href="https://github.com/youmi/AcyOrt">AcyOrt</a>
    </div>
</div>

</body>
</html>
